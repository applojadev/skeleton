<?php

use App\Utils\Media;
use App\Utils\Breadcrumb;

class indexController{

	public function initContent($request, $response, $args) {

		/*
		|--------------------------------------------------------------------------
		| Configurações
		|--------------------------------------------------------------------------    
		*/

		$php_self = 'index';

		require_once (dirname(1).'/settings/config.inc.php');

		/*
		|--------------------------------------------------------------------------
		| Cria Media
		|--------------------------------------------------------------------------    
		*/

		Media::create();

		/*
		|--------------------------------------------------------------------------
		| Media Default
		|--------------------------------------------------------------------------    
		*/

		Media::add('CSS','index');
		Media::add('JS' ,'index');		

		/*
		|--------------------------------------------------------------------------
		| Media Opcional
		|--------------------------------------------------------------------------    
		*/

		//CSS | JS opcional

		//***************************************************************************************************************************************************

		// FrontController
		include(_controller_front_dir_.'/includes/frontController.php');

		// HeaderController
		include(_controller_front_dir_.'/includes/headerController.php');

		//***************************************************************************************************************************************************
		//***************************************************************************************************************************************************

		/*
		|
		|--------------------------------------------------------------------------
		| ##### BEGIN CONTEUDO #####
		|-------------------------------------------------------------------------- 
		| Inicia o conteudo do controlador
		|
		|   
		*/
		
		
		$template->assign(array('conteudo'=>'Todo conteúdo'));    	
		

		/*
		|
		|--------------------------------------------------------------------------
		| ##### END CONTEUDO #####
		|--------------------------------------------------------------------------    
		| Finaliza o conteudo do controlador
		|
		|   
		*/		
		
		/*
		|--------------------------------------------------------------------------
		| Config Page
		|--------------------------------------------------------------------------    
		*/
		$template->assign(array(

			'layout_checkout'   => false,
			'header' 			=> true,
			'footer' 			=> true,
			'fixed_submit'      => false,
			'fixed_cancel'      => '',
			'meta_title'        => $dispatch->getValue('front','meta_title') . " - " . $app->getValue('name'),
			'meta_description'  => $dispatch->getValue('front','meta_description'),
			'meta_keywords'     => $dispatch->getValue('front','meta_keywords'),
			'media'             => Media::get(),	
			'breadcrumb'        => Breadcrumb::get()

		));

		// FooterController
		include(_controller_front_dir_.'/includes/footerController.php');

		//***************************************************************************************************************************************************

		/*
		|--------------------------------------------------------------------------
		| Retorna pra rota
		|--------------------------------------------------------------------------    
		*/
		return $template->getHTML('index');

	}

}